import{d as y,Q as w,u as _,y as d,z as t,S as h,I as p,K as u,A as k,L as I,g as i,x,q as B,_ as C}from"./lwqi4m22.js";import{u as j}from"./DwNf3lUb.js";const z={class:"min-h-screen flex items-center justify-center bg-[#fdfbf7] py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden font-hand"},S={class:"max-w-md w-full space-y-8 z-10"},Z={class:"bg-white border-4 border-black p-10 relative shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transform transition-transform hover:-translate-y-1 hover:shadow-[10px_10px_0px_0px_rgba(0,0,0,1)] card-shape"},P={class:"space-y-4"},H={class:"relative group"},M={class:"relative group"},R={key:0,class:"bg-red-50 border-2 border-red-500 text-red-700 px-4 py-2 rounded relative transform rotate-1",role:"alert"},W={class:"block sm:inline"},D=y({__name:"login",setup(N){const a=i(""),n=i(""),r=i(""),b=w(),c=_(),m=async()=>{r.value="";try{const s=B();let e=!1;const o=typeof window<"u"?"/api":(s.public?.apiBase||"/api").replace(/\/$/,""),l=await fetch(`${o}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.value,password:n.value})});if(!l.ok)throw l.status===401?new Error("用户名或密码错误"):new Error("登录失败");const f=(await l.json()).token,g=j("auth",{maxAge:3600*24*7});g.value=f;const v=b.query.redirect||"/";c.push(v)}catch(s){r.value=s.message||"登录失败"}};return(s,e)=>(x(),d("div",z,[e[10]||(e[10]=t("div",{class:"absolute inset-0 z-0 opacity-10",style:{"background-image":"radial-gradient(#000 1px, transparent 1px)","background-size":"20px 20px"}},null,-1)),e[11]||(e[11]=t("div",{class:"absolute top-10 left-10 w-24 h-24 border-4 border-black rounded-full opacity-20 transform -rotate-12 pointer-events-none hidden md:block"},null,-1)),e[12]||(e[12]=t("div",{class:"absolute bottom-10 right-10 w-32 h-16 border-4 border-black border-dashed opacity-20 transform rotate-6 pointer-events-none hidden md:block"},null,-1)),t("div",S,[t("div",Z,[e[7]||(e[7]=t("div",{class:"absolute -top-6 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-red-500 border-2 border-black shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] z-20"},null,-1)),e[8]||(e[8]=t("div",{class:"text-center"},[t("h2",{class:"mt-2 text-4xl font-extrabold text-gray-900 tracking-wider transform -rotate-2"}," 登录系统 "),t("p",{class:"mt-2 text-sm text-gray-600 font-bold"}," Welcome back! Please login. ")],-1)),t("form",{class:"mt-8 space-y-6",onSubmit:h(m,["prevent"])},[e[5]||(e[5]=t("input",{type:"hidden",name:"remember",value:"true"},null,-1)),t("div",P,[t("div",H,[e[2]||(e[2]=t("label",{for:"username",class:"block text-sm font-bold text-gray-700 mb-1 ml-1",style:{transform:"rotate(-1deg)"}},"用户名",-1)),p(t("input",{id:"username",name:"username",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),required:"",class:"appearance-none block w-full px-4 py-3 border-2 border-black placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-0 focus:border-black focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all bg-white transform group-hover:rotate-1",style:{"border-radius":"255px 15px 225px 15px / 15px 225px 15px 255px"},placeholder:"输入您的用户名"},null,512),[[u,a.value]])]),t("div",M,[e[3]||(e[3]=t("label",{for:"password",class:"block text-sm font-bold text-gray-700 mb-1 ml-1",style:{transform:"rotate(1deg)"}},"密码",-1)),p(t("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),required:"",class:"appearance-none block w-full px-4 py-3 border-2 border-black placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-0 focus:border-black focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all bg-white transform group-hover:-rotate-1",style:{"border-radius":"225px 15px 255px 15px / 15px 255px 15px 225px"},placeholder:"输入您的密码"},null,512),[[u,n.value]])])]),r.value?(x(),d("div",R,[e[4]||(e[4]=t("strong",{class:"font-bold"},"Oops! ",-1)),t("span",W,k(r.value),1)])):I("",!0),e[6]||(e[6]=t("div",null,[t("button",{type:"submit",class:"group relative w-full flex justify-center py-3 px-4 border-2 border-black text-xl font-bold rounded-lg text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-0 transition-all shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] active:translate-x-1.5 active:translate-y-1.5 transform overflow-hidden"},[t("span",{class:"relative z-10 group-hover:scale-110 transition-transform"},"即刻登录"),t("div",{class:"absolute inset-0 opacity-20 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIi8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiMwMDAiLz4KPC9zdmc+')]"})])],-1))],32)]),e[9]||(e[9]=t("p",{class:"text-center text-xs text-slate-500 font-bold opacity-60"}," ServiceLink Lite © 2026 ",-1))])]))}}),E=C(D,[["__scopeId","data-v-ac654011"]]);export{E as default};
